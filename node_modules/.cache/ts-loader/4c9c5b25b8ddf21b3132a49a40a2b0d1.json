{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/thread-loader/dist/cjs.js!/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js!/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js??ref--13-3!/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Testimonials.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/portal/Testimonials.vue","mtime":1557830879580},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/thread-loader/dist/cjs.js","mtime":1557114467785},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _objectSpread from \"/Volumes/Data/app.cloudjet.work/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport Vue from \"vue\";\nimport { fstorage } from '@/firebase'; //import {storage} from 'firebase.storage'\n\nimport { mapGetters } from 'vuex'; // https://github.com/xiaokaike/vue-color\n\nimport { Swatches } from 'vue-color';\nvar colors = {\n  hex: '#194d33'\n};\nexport default Vue.extend({\n  props: {},\n  computed: _objectSpread({}, mapGetters(['currentUser', 'currentCompany'])),\n  components: {\n    'swatches-picker': Swatches\n  },\n  data: function data() {\n    return {\n      progressUpload: 0,\n      file: File,\n      uploadTask: {},\n      whichFile: '',\n      newTestimonial: {\n        name: '',\n        photo: '',\n        position: '',\n        testimonial: ''\n      }\n    };\n  },\n  methods: {\n    updateCompany: function updateCompany() {\n      this.currentCompany.update();\n      this.$toasted.show('Saved!');\n    },\n    detectFiles: function detectFiles(fileList, whichFile) {\n      var _this = this;\n\n      this.whichFile = whichFile;\n      console.log(fileList);\n      Array.from(Array(fileList.length).keys()).map(function (x) {\n        _this.upload(fileList[x]);\n      });\n    },\n    upload: function upload(file) {\n      this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n    },\n    addTestimonial: function addTestimonial() {\n      if (this.newTestimonial.photo == '' || this.newTestimonial.name == '' || this.newTestimonial.position == '' || this.newTestimonial.testimonial == '') {\n        this.$toasted.error('Error !!!');\n      } else {\n        this.currentCompany.testimonials.push(this.newTestimonial);\n        this.updateCompany();\n        console.log(this.currentCompany.testimonials);\n        this.newTestimonial = {\n          name: '',\n          photo: '',\n          position: '',\n          testimonial: ''\n        };\n      }\n    },\n    removeTestimonial: function removeTestimonial(index) {\n      this.currentCompany.testimonials.splice(index, 1);\n      this.updateCompany();\n    }\n  },\n  watch: {\n    uploadTask: function uploadTask() {\n      var _this2 = this;\n\n      this.$toasted.show('Uploading ...');\n      this.uploadTask.on('state_changed', function (sp) {\n        if (sp.bytesTransferred == sp.totalBytes) {\n          _this2.$toasted.show('Uploaded !');\n        }\n      }, null, function () {\n        _this2.uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          _this2.newTestimonial.photo = downloadURL; // this.updateCompany();\n        });\n      });\n    }\n  }\n});",null]}