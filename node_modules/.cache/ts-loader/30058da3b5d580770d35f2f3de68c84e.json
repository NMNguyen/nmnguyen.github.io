{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js!/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js??ref--13-2!/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Testimonials.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/portal/Testimonials.vue","mtime":1557830879580},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _objectSpread from \"/Volumes/Data/app.cloudjet.work/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport Vue from \"vue\";\nimport { fstorage } from '@/firebase'; //import {storage} from 'firebase.storage'\n\nimport { mapGetters } from 'vuex'; // https://github.com/xiaokaike/vue-color\n\nimport { Swatches } from 'vue-color';\nvar colors = {\n  hex: '#194d33'\n};\nexport default Vue.extend({\n  props: {},\n  computed: _objectSpread({}, mapGetters(['currentUser', 'currentCompany'])),\n  components: {\n    'swatches-picker': Swatches\n  },\n  data: function data() {\n    return {\n      progressUpload: 0,\n      file: File,\n      uploadTask: {},\n      whichFile: '',\n      newTestimonial: {\n        name: '',\n        photo: '',\n        position: '',\n        testimonial: ''\n      }\n    };\n  },\n  methods: {\n    updateCompany: function updateCompany() {\n      this.currentCompany.update();\n      this.$toasted.show('Saved!');\n    },\n    detectFiles: function detectFiles(fileList, whichFile) {\n      var _this = this;\n\n      this.whichFile = whichFile;\n      console.log(fileList);\n      Array.from(Array(fileList.length).keys()).map(function (x) {\n        _this.upload(fileList[x]);\n      });\n    },\n    upload: function upload(file) {\n      this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n    },\n    addTestimonial: function addTestimonial() {\n      if (this.newTestimonial.photo == '' || this.newTestimonial.name == '' || this.newTestimonial.position == '' || this.newTestimonial.testimonial == '') {\n        this.$toasted.error('Error !!!');\n      } else {\n        this.currentCompany.testimonials.push(this.newTestimonial);\n        this.updateCompany();\n        console.log(this.currentCompany.testimonials);\n        this.newTestimonial = {\n          name: '',\n          photo: '',\n          position: '',\n          testimonial: ''\n        };\n      }\n    },\n    removeTestimonial: function removeTestimonial(index) {\n      this.currentCompany.testimonials.splice(index, 1);\n      this.updateCompany();\n    }\n  },\n  watch: {\n    uploadTask: function uploadTask() {\n      var _this2 = this;\n\n      this.$toasted.show('Uploading ...');\n      this.uploadTask.on('state_changed', function (sp) {\n        if (sp.bytesTransferred == sp.totalBytes) {\n          _this2.$toasted.show('Uploaded !');\n        }\n      }, null, function () {\n        _this2.uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          _this2.newTestimonial.photo = downloadURL; // this.updateCompany();\n        });\n      });\n    }\n  }\n});",{"version":3,"sources":["/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Testimonials.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport {fauth, fstorage} from '@/firebase';\n//import {storage} from 'firebase.storage'\nimport {mapGetters} from 'vuex';\n// https://github.com/xiaokaike/vue-color\nimport {Swatches} from 'vue-color';\nimport * as firebase from \"firebase\";\n\n\nvar colors = {\n    hex: '#194d33',\n    // hsl: {h: 150, s: 0.5, l: 0.2, a: 1},\n    // hsv: {h: 150, s: 0.66, v: 0.30, a: 1},\n    // rgba: {r: 25, g: 77, b: 51, a: 1},\n    // a: 1\n}\n\nexport default Vue.extend({\n    props: {},\n    computed: {\n        // mix the getters into computed with object spread operator\n        ...mapGetters([\n            'currentUser',\n            'currentCompany',\n            // ...\n        ]),\n\n    },\n    components: {\n        'swatches-picker': Swatches\n    },\n    data() {\n        return {\n\n            progressUpload: 0,\n            file: File,\n            uploadTask: {} as firebase.storage.UploadTask,\n            whichFile: '',\n            newTestimonial: {\n                name: '',\n                photo: '',\n                position: '',\n                testimonial: ''\n            }\n        }\n    },\n    methods: {\n        updateCompany: function () {\n            this.currentCompany.update();\n            this.$toasted.show('Saved!')\n        },\n        detectFiles(fileList, whichFile) {\n            this.whichFile = whichFile;\n            console.log(fileList);\n            Array.from(Array(fileList.length).keys()).map(x => {\n                this.upload(fileList[x])\n            })\n        },\n        upload(file) {\n            this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n        },\n        addTestimonial() {\n            if (this.newTestimonial.photo == '' || this.newTestimonial.name == '' || this.newTestimonial.position == '' || this.newTestimonial.testimonial == '') {\n                this.$toasted.error('Error !!!')\n            } else {\n                this.currentCompany.testimonials.push(this.newTestimonial);\n                this.updateCompany();\n                console.log(this.currentCompany.testimonials);\n                this.newTestimonial = {\n                    name: '',\n                    photo: '',\n                    position: '',\n                    testimonial: ''\n                }\n            }\n        },\n        removeTestimonial(index) {\n            this.currentCompany.testimonials.splice(index, 1);\n            this.updateCompany();\n        }\n    },\n    watch: {\n        uploadTask: function () {\n            this.$toasted.show('Uploading ...');\n            this.uploadTask.on('state_changed', sp => {\n                    if (sp.bytesTransferred == sp.totalBytes) {\n                        this.$toasted.show('Uploaded !')\n                    }\n                },\n                null,\n                () => {\n                    this.uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n                        this.newTestimonial.photo = downloadURL;\n                        // this.updateCompany();\n                    })\n                })\n        }\n    }\n\n});\n"],"sourceRoot":""}]}