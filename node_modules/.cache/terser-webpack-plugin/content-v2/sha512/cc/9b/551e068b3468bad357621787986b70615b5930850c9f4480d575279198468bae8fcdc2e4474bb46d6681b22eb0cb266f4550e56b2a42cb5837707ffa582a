{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-54e1ae8a\"],{\"15b8\":function(s,e,a){\"use strict\";var r=a(\"ab55\"),o=a.n(r);o.a},ab55:function(s,e,a){},d878:function(s,e,a){\"use strict\";a.r(e);var r=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a(\"div\",{staticClass:\"content\"},[a(\"h1\",[s._v(s._s(s.messages.SR_001_PASSWORD))]),a(\"p\",[s._v(s._s(s.messages.SR_001_PASSWORD_DESCR))]),a(\"div\",[a(\"div\",{staticClass:\"my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.old_password,expression:\"old_password\"}],attrs:{type:\"password\",name:\"old_password\",autocomplete:\"off\",placeholder:s.messages.SR_001_PASSWORD},domProps:{value:s.old_password},on:{input:function(e){e.target.composing||(s.old_password=e.target.value)}}})]),a(\"div\",{staticClass:\"my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.password,expression:\"password\"}],attrs:{type:\"password\",name:\"new_password\",autocomplete:\"off\",placeholder:s.messages.SR_001_NEW_PASSWORD},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}})]),a(\"div\",{staticClass:\"my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.confirm_password,expression:\"confirm_password\"}],attrs:{type:\"password\",name:\"confirm_password\",autocomplete:\"off\",placeholder:s.messages.SR_001_CONFIRM_PASSWORD},domProps:{value:s.confirm_password},on:{input:function(e){e.target.composing||(s.confirm_password=e.target.value)}}})]),s.error?a(\"div\",{staticClass:\"my-3\"},[s.error?a(\"span\",{staticStyle:{color:\"red\",\"padding-left\":\"10px\"}},[s._v(\" \"+s._s(s.errorMessage))]):s._e()]):s._e(),a(\"div\",{staticClass:\"d-flex justify-content-end\"},[a(\"button\",{staticClass:\"my-3 btn btn-blue default\",on:{click:s.SavePassword}},[s.saveflag?s._e():a(\"i\",{staticClass:\"default fa fa-save\"},[s._v(\"  \")]),s.saveflag?s._e():a(\"span\",{staticClass:\"default\"},[s._v(s._s(s.messages.COMMON_SAVE))]),s.saveflag?a(\"i\",{staticClass:\"success fa fa-check\"},[s._v(\"  \")]):s._e(),s.saveflag?a(\"span\",{staticClass:\"success\"},[s._v(s._s(s.messages.COMMON_SAVED))]):s._e()])])])])},o=[],t=a(\"cebc\"),n=a(\"2b0e\"),d=a(\"dd81\"),i=a(\"2f62\"),c=n[\"default\"].extend({name:\"UserPassword\",data:function(){return{old_password:\"\",password:\"\",confirm_password:\"\",saveflag:!1,error:!1,email:\"\",errorMessage:\"\"}},computed:Object(t[\"a\"])({},Object(i[\"c\"])([\"currentUser\",\"currentCompany\"])),watch:{currentUser:function(s){var e=this;e.email=e.currentUser.email}},mounted:function(){var s=this;s.currentUser&&(s.email=s.currentUser.email)},methods:{validate:function(){var s=this,e=!0;return s.errorMessage=\"\",\"\"==s.password?(e=!1,s.errorMessage=s.messages.SR_001_PASS_NULL):s.password.length<6?(e=!1,s.errorMessage=s.messages.SR_001_PASS_MIN):s.password!=s.confirm_password&&(e=!1,s.errorMessage=s.messages.SR_001_PASS_MISMATCHED),e},SavePassword:function(){var s=this,e=d[\"c\"].currentUser;s.password=s.password.trim(),s.confirm_password=s.confirm_password.trim();var a=d[\"b\"].auth.EmailAuthProvider.credential(e.email,s.old_password);console.log(a),s.error=!1,e&&e.email?(s.error=!1,console.log(s.email),e.reauthenticateAndRetrieveDataWithCredential(a).then(function(){s.validate()?e.updatePassword(s.password).then(function(){s.saveflag=!0,s.old_password=\"\",s.password=\"\",s.confirm_password=\"\",s.$toasted.show(s.messages.COMMON_SAVED),setTimeout(function(){s.saveflag=!1},1e3)}).catch(function(e){console.log(e),s.error=!0,\"auth/weak-password\"==e.code?s.errorMessage=s.messages.SR_001_PASS_MIN:s.errorMessage=s.messages.SR_001_PASS_SAVE_FAIL}):s.error=!0}).catch(function(e){console.log(e),\"auth/wrong-password\"==e.code?s.errorMessage=s.messages.SR_001_WRONG_PASS:s.errorMessage=e,s.error=!0})):(s.errorMessage=\"User không tồn tại\",s.error=!0)}}}),l=c,p=(a(\"15b8\"),a(\"2877\")),_=Object(p[\"a\"])(l,r,o,!1,null,null,null);e[\"default\"]=_.exports}}]);","extractedComments":[]}