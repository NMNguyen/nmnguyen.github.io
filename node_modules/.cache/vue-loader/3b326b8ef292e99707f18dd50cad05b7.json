{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Layout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/portal/Layout.vue","mtime":1557830879577},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport {fauth, fstorage} from '@/firebase';\n//import {storage} from 'firebase.storage'\nimport {mapGetters} from 'vuex';\n// https://github.com/xiaokaike/vue-color\nimport {Swatches} from 'vue-color';\nimport * as firebase from \"firebase\";\n\n\nvar colors = {\n    hex: '#194d33',\n    // hsl: {h: 150, s: 0.5, l: 0.2, a: 1},\n    // hsv: {h: 150, s: 0.66, v: 0.30, a: 1},\n    // rgba: {r: 25, g: 77, b: 51, a: 1},\n    // a: 1\n}\n\nexport default Vue.extend({\n    props: {},\n    computed: {\n        // mix the getters into computed with object spread operator\n        ...mapGetters([\n            'currentUser',\n            'currentCompany',\n            // ...\n        ]),\n\n    },\n    components: {\n        'swatches-picker': Swatches\n    },\n    data() {\n        return {\n\n            progressUpload: 0,\n            file: File,\n            uploadTask: {} as firebase.storage.UploadTask,\n            whichFile: '',\n            newTestimonial: {\n                name: '',\n                photo: '',\n                position: '',\n                testimonial: ''\n            }\n        }\n    },\n    methods: {\n        updateCompany: function () {\n            this.currentCompany.update();\n            this.$toasted.show('Saved!')\n        },\n        detectFiles(fileList, whichFile) {\n            this.whichFile = whichFile;\n            console.log(fileList);\n            Array.from(Array(fileList.length).keys()).map(x => {\n                this.upload(fileList[x])\n            })\n        },\n        upload(file) {\n            this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n        },\n        switch_mode(section) {\n            this.currentCompany.layout[section] = !this.currentCompany.layout[section];\n            this.updateCompany();\n        }\n    },\n    watch: {\n        uploadTask: function () {\n            this.$toasted.show('Uploading ...');\n            this.uploadTask.on('state_changed', sp => {\n                    if (sp.bytesTransferred == sp.totalBytes) {\n                        this.$toasted.show('Uploaded !')\n                    }\n                },\n                null,\n                () => {\n                    this.uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n                        this.currentCompany.photos.push({url: downloadURL});\n                        this.updateCompany();\n                    })\n                })\n        }\n    }\n\n});\n",{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsXA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Layout.vue","sourceRoot":"src/components/portal","sourcesContent":["<template>\n    <div class=\"settings portal\">\n        <div class=\"main-content\">\n            <div class=\"profile nigvlxscope\">\n                <div class=\"header\">\n                    <h1>Bố cục nội dung</h1>\n                    <p>Kéo và thả các phần bố cục nội dung bên dưới.</p>\n                </div>\n                <div name=\"layoutForm\" novalidate=\"novalidate\" class=\"nigvlxpristine nigvlxvalid\">\n                    <div class=\"company\">\n                        <div class=\"section\">\n                            <ul class=\"columns\">\n                                <li class=\"column\">\n                                    <ul class=\"bzy-list nigvlxpristine nigvlxuntouched nigvlxvalid nigvlxscope\">\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">General</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('general')\" v-if=\"!currentCompany.layout.general\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('general')\" v-if=\"currentCompany.layout.general\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">Perks</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('perks')\" v-if=\"!currentCompany.layout.perks\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('perks')\" v-if=\"currentCompany.layout.perks\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">Gallery</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('gallery')\" v-if=\"!currentCompany.layout.gallery\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('gallery')\" v-if=\"currentCompany.layout.gallery\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">Testimonials</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('testimonials')\" v-if=\"!currentCompany.layout.testimonials\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('testimonials')\" v-if=\"currentCompany.layout.testimonials\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">Positions List</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('positions_list')\" v-if=\"!currentCompany.layout.positions_list\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('positions_list')\" v-if=\"currentCompany.layout.positions_list\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                        <li class=\"bzy-item draggable nigvlxscope as-sortable-item enabled\">\n                                            <div class=\"bzy-item-container nigvlxscope as-sortable-item-handle\">\n                                                <i class=\"icon fa fa-list\"></i>\n                                                <label class=\"nigvlxbinding\">Employees</label>\n                                                <nav>\n                                                    <a class=\"disable-section\" @click=\"switch_mode('employees')\" v-if=\"!currentCompany.layout.employees\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye-slash\"></i>\n                                                    </a>\n                                                    <a class=\"enable-section\" @click=\"switch_mode('employees')\" v-if=\"currentCompany.layout.employees\"\n                                                       data-container=\"body\">\n                                                        <i class=\"fa fa-eye\"></i>\n                                                    </a>\n                                                </nav>\n                                            </div>\n                                        </li>\n\n                                    </ul>\n                                    <div class=\"footer align-right\">\n                                        <button class=\"btn btn-blue default\" @click=\"updateCompany\"><i class=\"default fa fa-save\"></i><span\n                                            class=\"default\">Lưu</span></button>\n                                    </div>\n                                </li>\n\n\n                                <li class=\"column\">\n                                    <div class=\"browser bold full grid_layout\">\n                                        <div class=\"controls\">\n                                            <div class=\"control1\"></div>\n                                            <div class=\"control2\"></div>\n                                            <div class=\"control3\"></div>\n                                        </div>\n                                        <div class=\"address-bar\"></div>\n                                        <div class=\"content\">\n                                            <div class=\"section\">\n                                                <div class=\"hero\" style=\"background: rgb(117, 111, 125)\">\n                                                    <div class=\"hero-header\">\n                                                        <div class=\"logo\"></div>\n                                                        <ul class=\"actions\">\n                                                            <li class=\"action\"></li>\n                                                            <li class=\"action\"></li>\n                                                            <li class=\"action\"></li>\n                                                        </ul>\n                                                    </div>\n                                                    <div class=\"title\"></div>\n                                                    <div class=\"sub-title\"></div>\n                                                    <div class=\"cta\" style=\"background-color: rgba(0,0,0,0.2)\"></div>\n                                                </div>\n                                            </div><!-- ngRepeat: section in portal.layout.sections -->\n                                            <div class=\"section nigvlxscope\" nigvlxrepeat=\"section in portal.layout.sections\">\n                                                <!-- ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <div class=\"video-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;general&quot; &amp;&amp; section.disabled !== true\">\n                                                    <div class=\"video\"></div>\n                                                    <div class=\"copy\">\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                        <div class=\"line\"></div>\n                                                    </div>\n                                                </div><!-- end ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"positions\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"employees\" && section.disabled !== true -->\n                                            </div><!-- end ngRepeat: section in portal.layout.sections -->\n                                            <div class=\"section nigvlxscope\" nigvlxrepeat=\"section in portal.layout.sections\">\n                                                <!-- ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <div class=\"perks-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;perks&quot; &amp;&amp; section.disabled !== true\">\n                                                    <div class=\"perks\">\n                                                        <div class=\"perk\">\n                                                            <div class=\"dot\" style=\"background-color: rgb(117, 111, 125)\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"perk\">\n                                                            <div class=\"dot\" style=\"background-color: rgb(117, 111, 125)\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"perk\">\n                                                            <div class=\"dot\" style=\"background-color: rgb(117, 111, 125)\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"perk\">\n                                                            <div class=\"dot\" style=\"background-color: rgb(117, 111, 125)\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"perk\">\n                                                            <div class=\"dot\" style=\"background-color: rgb(117, 111, 125)\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                    </div>\n                                                </div><!-- end ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"positions\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"employees\" && section.disabled !== true -->\n                                            </div><!-- end ngRepeat: section in portal.layout.sections -->\n                                            <div class=\"section nigvlxscope\" nigvlxrepeat=\"section in portal.layout.sections\">\n                                                <!-- ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <div class=\"media-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;media&quot; &amp;&amp; section.disabled !== true\">\n                                                    <div class=\"media\">\n                                                        <div class=\"image-big\"></div>\n                                                        <div class=\"image\"></div>\n                                                        <div class=\"image\"></div>\n                                                        <div class=\"image\"></div>\n                                                        <div class=\"image\"></div>\n                                                        <div class=\"image\"></div>\n                                                        <div class=\"image\"></div>\n                                                    </div>\n                                                </div><!-- end ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"positions\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"employees\" && section.disabled !== true -->\n                                            </div><!-- end ngRepeat: section in portal.layout.sections -->\n                                            <div class=\"section nigvlxscope\" nigvlxrepeat=\"section in portal.layout.sections\">\n                                                <!-- ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <div class=\"testimonials-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;testimonials&quot; &amp;&amp; section.disabled !== true\">\n                                                    <div class=\"testimonials\">\n                                                        <div class=\"testimonial\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                            <div class=\"subline\"></div>\n                                                            <div class=\"subline\"></div>\n                                                        </div>\n                                                        <div class=\"testimonial\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                            <div class=\"subline\"></div>\n                                                            <div class=\"subline\"></div>\n                                                        </div>\n                                                        <div class=\"testimonial\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                            <div class=\"subline\"></div>\n                                                            <div class=\"subline\"></div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <!-- end ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"positions\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"employees\" && section.disabled !== true -->\n                                            </div><!-- end ngRepeat: section in portal.layout.sections -->\n                                            <div class=\"section nigvlxscope\" nigvlxrepeat=\"section in portal.layout.sections\">\n                                                <!-- ngIf: section.type === \"general\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"media\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"testimonials\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"perks\" && section.disabled !== true -->\n                                                <!-- ngIf: section.type === \"positions\" && section.disabled !== true -->\n                                                <div class=\"positions-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;positions&quot; &amp;&amp; section.disabled !== true\">\n                                                    <ul class=\"positions\">\n                                                        <li class=\"position\">\n                                                            <div class=\"apply tr\" style=\"background: rgb(117, 111, 125)\"></div>\n                                                            <div class=\"position-title\"></div>\n                                                            <ul class=\"meta\">\n                                                                <li class=\"line\"></li>\n                                                                <li class=\"line\"></li>\n                                                                <li class=\"line\"></li>\n                                                            </ul>\n                                                            <div class=\"apply bt\" style=\"background: rgb(117, 111, 125)\"></div>\n                                                        </li>\n                                                        <li class=\"position\">\n                                                            <div class=\"apply tr\" style=\"background: rgb(117, 111, 125)\"></div>\n                                                            <div class=\"position-title\"></div>\n                                                            <ul class=\"meta\">\n                                                                <li class=\"line\"></li>\n                                                                <li class=\"line\"></li>\n                                                                <li class=\"line\"></li>\n                                                            </ul>\n                                                            <div class=\"apply bt\" style=\"background: rgb(117, 111, 125)\"></div>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n\n                                            </div>\n                                            <div class=\"section nigvlxscope\">\n                                                <div class=\"employees-container nigvlxscope\"\n                                                     nigvlxif=\"section.type === &quot;employees&quot; &amp;&amp; section.disabled !== true\">\n                                                    <div class=\"employees\">\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                        <div class=\"employee\">\n                                                            <div class=\"dot\">\n                                                                <div class=\"inner\"></div>\n                                                            </div>\n                                                            <div class=\"line\"></div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script lang=\"ts\">\n    import Vue from \"vue\";\n    import {fauth, fstorage} from '@/firebase';\n    //import {storage} from 'firebase.storage'\n    import {mapGetters} from 'vuex';\n    // https://github.com/xiaokaike/vue-color\n    import {Swatches} from 'vue-color';\n    import * as firebase from \"firebase\";\n\n\n    var colors = {\n        hex: '#194d33',\n        // hsl: {h: 150, s: 0.5, l: 0.2, a: 1},\n        // hsv: {h: 150, s: 0.66, v: 0.30, a: 1},\n        // rgba: {r: 25, g: 77, b: 51, a: 1},\n        // a: 1\n    }\n\n    export default Vue.extend({\n        props: {},\n        computed: {\n            // mix the getters into computed with object spread operator\n            ...mapGetters([\n                'currentUser',\n                'currentCompany',\n                // ...\n            ]),\n\n        },\n        components: {\n            'swatches-picker': Swatches\n        },\n        data() {\n            return {\n\n                progressUpload: 0,\n                file: File,\n                uploadTask: {} as firebase.storage.UploadTask,\n                whichFile: '',\n                newTestimonial: {\n                    name: '',\n                    photo: '',\n                    position: '',\n                    testimonial: ''\n                }\n            }\n        },\n        methods: {\n            updateCompany: function () {\n                this.currentCompany.update();\n                this.$toasted.show('Saved!')\n            },\n            detectFiles(fileList, whichFile) {\n                this.whichFile = whichFile;\n                console.log(fileList);\n                Array.from(Array(fileList.length).keys()).map(x => {\n                    this.upload(fileList[x])\n                })\n            },\n            upload(file) {\n                this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n            },\n            switch_mode(section) {\n                this.currentCompany.layout[section] = !this.currentCompany.layout[section];\n                this.updateCompany();\n            }\n        },\n        watch: {\n            uploadTask: function () {\n                this.$toasted.show('Uploading ...');\n                this.uploadTask.on('state_changed', sp => {\n                        if (sp.bytesTransferred == sp.totalBytes) {\n                            this.$toasted.show('Uploaded !')\n                        }\n                    },\n                    null,\n                    () => {\n                        this.uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n                            this.currentCompany.photos.push({url: downloadURL});\n                            this.updateCompany();\n                        })\n                    })\n            }\n        }\n\n    });\n</script>\n"]}]}