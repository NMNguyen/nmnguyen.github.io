{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/Analytics/Overview/PhanTichTongQuan.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/Analytics/Overview/PhanTichTongQuan.vue","mtime":1557114387676},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/thread-loader/dist/cjs.js","mtime":1557114467785},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport LineChart from \"@/components/Analytics/Charts/LineChart.vue\";\nimport Momment from 'moment';\n\nconst lineStyle = (color: string):any =>({\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    borderColor: color,\n    pointBackgroundColor: color,\n    pointBorderColor: \"white\",\n});\n\nexport default Vue.extend({\n    name: \"PhanTichTongQuan\",\n    components: {\n        LineChart,\n    },\n\n    props: {\n        range: {\n            type: Object,\n            default: {\n                start: Momment().subtract(7, 'd').format(),\n                end: Momment().format(),\n            },\n        },\n    },\n\n    data() {\n        return {\n            chart: {\n                loaded: false,\n                data: {\n                    datasets: [] as any[],\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        yAxes: [{\n                            ticks: {\n                                beginAtZero: true\n                            }\n                        }],\n                        xAxes: [\n                            {\n                                type: 'time',\n                                time: {\n                                    unit: 'day',\n                                    dateFormat: {\n\n                                    }\n                                }\n                            }\n                        ],\n                    },\n                    legend: {\n                        display: true,\n                        labels: {\n                            usePointStyle: true,\n                        }\n                    }\n                }\n            }\n        }\n    },\n\n    methods: {\n        fillTestData(): void\n        {\n            // this.chart.data.labels = ((n: number)=>{\n            //     const res = [] as any[];\n            //     while (n > 0) res.unshift(`Thang ${n--}`);\n            //     return res;\n            // })(12);\n\n            const random = (): any[] =>{\n                const res = [] as any[];\n                const current: Momment.Moment = Momment(this.range.start);\n                while (current.isBefore(this.range.end)) {\n                    res.push({\n                        x: new Date(current.format()),\n                        y: Math.round(Math.random() * 10 * Math.random()),\n                        // y: replace real data at this day\n                    });\n                    current.add(1, 'd');\n                }\n                return res;\n            };\n            this.chart.data.datasets.push({\n                ...lineStyle(\"red\"),\n                label: \"Ứng tuyển\",\n                data: random(),\n            });\n            this.chart.data.datasets.push({\n                ...lineStyle(\"blue\"),\n                label: \"Lượt xem\",\n                data: random(),\n            });\n            this.chart.data.datasets.push({\n                ...lineStyle(\"orange\"),\n                label: \"Nguồn\",\n                data: random(),\n            });\n            this.chart.data.datasets.push({\n                ...lineStyle(\"cyan\"),\n                label: \"Được giới thiệu\",\n                data: random(),\n            });\n            this.chart.data.datasets.push({\n                ...lineStyle(\"yellow\"),\n                label: \"Đã tuyển\",\n                data: random(),\n            });\n\n            this.chart.loaded = true;\n        }\n    },\n\n    mounted(): void {\n        // for test UI\n        this.fillTestData();\n    }\n})\n",null]}