{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/settings/UserSignature.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/settings/UserSignature.vue","mtime":1557830879582},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/thread-loader/dist/cjs.js","mtime":1557114467785},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport wysiwyg from \"vue-wysiwyg\";\nimport User from \"@/models/User\";\n//import {fauth} from '@/firebase';\nimport {mapGetters} from 'vuex';\n\n\nVue.use(wysiwyg, {\n    hideModules: { \"image\": true },\n});\n\nexport default Vue.extend({\n    name: \"UserSignature\",\n    data() {\n        return {\n            signatureHtml: '',\n            saveflag: false,\n            signatureFlag: true,\n            \n        }\n    },\n    computed: {\n        // mix the getters into computed with object spread operator\n        ...mapGetters([\n            'currentUser',\n            'currentCompany',\n            // ...\n        ]),\n    },\n    watch: {\n        currentUser: function (user) {\n            const self = this;\n\n            if (!user.currentUser.signatureFlag) {\n                self.signatureFlag = false;\n            }\n\n            if (user.currentUser.signatureHtml)\n                self.signatureHtml = user.currentUser.signatureHtml;\n        }\n    },\n    mounted: function () {\n\n        const self = this;\n\n\n        if (self.currentUser) {\n\n            if (!self.currentUser.signatureFlag) {\n                self.signatureFlag = false;\n            }\n\n            if (self.currentUser.signatureHtml)\n                self.signatureHtml = self.currentUser.signatureHtml;\n\n\n        }\n    },\n        methods: {\n            EnableSignature: function () {\n                const self = this;\n                self.signatureFlag = true;\n\n            },\n            DisableSignature: function () {\n                const self = this;\n                self.signatureFlag = false;\n            },\n            SaveUserSignature: function () {\n                const self = this;\n                if (self.currentUser) {\n                    self.currentUser.signatureFlag = self.signatureFlag;\n                    self.currentUser.signatureHtml = self.signatureHtml;\n                    self.currentUser.update();\n                    self.saveflag = true;\n                    setTimeout(function () {\n                        self.saveflag = false;\n                    }, 2000);\n                }\n            }\n        }\n    })\n",null]}