{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Media.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/portal/Media.vue","mtime":1557830879578},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/css-loader/index.js","mtime":1557114467524},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1557114467992},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/postcss-loader/src/index.js","mtime":1557114467782},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.gallery .gallery-item .image {\n    height: 100px;\n    width: 100px;\n    background-size: cover;\n}\n",{"version":3,"sources":["Media.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA","file":"Media.vue","sourceRoot":"src/components/portal","sourcesContent":["<template>\n    <div class=\"settings portal\">\n        <div class=\"main-content\">\n\n            <div class=\"profile nigvlxscope\">\n                <div class=\"header\">\n                    <h1>Hình ảnh & Video</h1>\n                </div><!-- ngIf: updateFailed -->\n                <div novalidate=\"novalidate\"\n                     class=\"nigvlxpristine nigvlxvalid\">\n                    <div class=\"company\">\n                        <div class=\"section\">\n                            <h2>Video Marketing</h2>\n                            <p>Có một video tiếp thị sẽ giúp mọi người hào hứng với thương hiệu của bạn? Bao gồm nó ở đây.</p>\n                            <h3>YouTube</h3>\n                            <input class=\"form-control\"\n                                   type=\"text\"\n                                   placeholder=\"e.g. https://www.youtube.com/watch?v=dQw4w9WgXcQ\"\n                                   v-model=\"currentCompany.youtube_video\">\n                            <div class=\"form-divider\"></div>\n                        </div>\n                        <div class=\"section\">\n                            <h2>Thêm hình ảnh</h2>\n                            <p>Chia sẻ một số hình ảnh của cuộc sống công việc. Sự kiện, tính năng văn phòng thú vị, vật nuôi văn phòng và nhân viên.</p>\n                            <div class=\"company-logo-container\">\n                                <button class=\"attach-file add logo btn btn-blue btn-xs\"\n                                        style=\"overflow: hidden;\"\n                                        @click=\"$refs.file.click()\">\n                                    <div class=\"savinigvlxstate nigvlxscope\">\n                                        <i class=\"fa fa-plus\"></i><span> Thêm hình ảnh</span></div>\n                                </button>\n\n                                <input type=\"file\" accept=\"image/*\" tabindex=\"-1\"\n                                       style=\"width: 1px; height: 1px; opacity: 0; position: absolute; padding: 0px; margin: 0px; overflow: hidden;\" @change=\"detectFiles($event.target.files)\" ref=\"file\">\n                            </div>\n                        </div>\n                        <div class=\"section\">\n                            <h2>Hình ảnh đã thêm</h2>\n                            <p v-if=\"currentCompany.photos.length == 0\" class=\"nigvlxscope\">Bạn chưa thêm hình ảnh nào!</p>\n                            <ul class=\"gallery\">\n                                <li class=\"gallery-item ng-scope\" v-for=\"(photo, index) in currentCompany.photos\">\n                                    <div class=\"image\" :style=\"{'background-image': 'url(' + photo.url + ')'}\"></div>\n                                    <a class=\"remove\" @click=\"removePhoto(index)\"><i class=\"fa fa-times\"></i><span> Remove</span></a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div><!-- ngIf: mediaChanged -->\n                </div>\n            </div><!-- end ngIf: activeTab == \"media\" -->\n            <div class=\"footer align-right\">\n                <button @click=\"updateCompany\" class=\"btn btn-blue default\"\n                        type=\"submit\">\n                    <i class=\"default fa fa-save\"></i>\n                    <span class=\"default\">Lưu</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script lang=\"ts\">\n    import Vue from \"vue\";\n    import {fauth, fstorage} from '@/firebase';\n    //import {storage} from 'firebase.storage'\n    import {mapGetters} from 'vuex';\n    // https://github.com/xiaokaike/vue-color\n    import {Swatches} from 'vue-color';\n    import * as firebase from \"firebase\";\n\n\n    var colors = {\n        hex: '#194d33',\n        // hsl: {h: 150, s: 0.5, l: 0.2, a: 1},\n        // hsv: {h: 150, s: 0.66, v: 0.30, a: 1},\n        // rgba: {r: 25, g: 77, b: 51, a: 1},\n        // a: 1\n    }\n\n    export default Vue.extend({\n        props: {},\n        computed: {\n            // mix the getters into computed with object spread operator\n            ...mapGetters([\n                'currentUser',\n                'currentCompany',\n                // ...\n            ]),\n\n        },\n        components: {\n            'swatches-picker': Swatches\n        },\n        data() {\n            return {\n\n                progressUpload: 0,\n                file: File,\n                uploadTask: {} as firebase.storage.UploadTask,\n                whichFile: '',\n                newTestimonial: {\n                    name: '',\n                    photo: '',\n                    position: '',\n                    testimonial: ''\n                }\n            }\n        },\n        methods: {\n            updateCompany: function () {\n                this.currentCompany.update();\n                this.$toasted.show('Saved!')\n            },\n            detectFiles(fileList, whichFile) {\n                this.whichFile = whichFile;\n                console.log(fileList);\n                Array.from(Array(fileList.length).keys()).map(x => {\n                    this.upload(fileList[x])\n                })\n            },\n            upload(file) {\n                this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n            },\n            removePhoto(index) {\n                this.currentCompany.photos.splice(index, 1);\n                this.updateCompany();\n            }\n        },\n        watch: {\n            uploadTask: function () {\n                this.$toasted.show('Uploading ...');\n                this.uploadTask.on('state_changed', sp => {\n                        if (sp.bytesTransferred == sp.totalBytes) {\n                            this.$toasted.show('Uploaded !')\n                        }\n                    },\n                    null,\n                    () => {\n                        this.uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n                            this.currentCompany.photos.push({url: downloadURL});\n                            this.updateCompany();\n                        })\n                    })\n            }\n        }\n\n    });\n</script>\n\n\n<style>\n    .gallery .gallery-item .image {\n        height: 100px;\n        width: 100px;\n        background-size: cover;\n    }\n</style>\n"]}]}