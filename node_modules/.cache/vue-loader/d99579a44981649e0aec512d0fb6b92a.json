{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/tasks/CreateTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/tasks/CreateTask.vue","mtime":1557830879584},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapGetters, mapMutations} from \"vuex\";\nimport {Datetime} from 'vue-datetime';\nimport User from \"../../models/User\";\n\nexport default {\n    name: \"createTask\",\n    components: {\n        datetime: Datetime\n    },\n    data() {\n        return {\n            assignee: this.currentUser,\n        }\n    },\n    mounted() {\n        // debugger;\n\n    },\n    watch: {\n        currentUser(val, oldVal) {\n            // debugger;\n            if (this.assignee == null) {\n                this.assignee = val;\n            }\n        }\n    },\n    computed: {\n\n        // mix the getters into computed with object spread operator\n        ...mapGetters([\n            'currentUser',\n            'currentCompany',\n            'getTask',\n            'modals/addTask',\n            'companyUsers'\n\n            // ...\n        ]),\n        modalFlag: {\n            get() {\n                return this['modals/addTask']\n            },\n            set(val) {\n                this['modals/showAddTask'](val);\n            }\n        }\n    },\n    methods: {\n        ...mapMutations([\n            'modals/showAddTask',\n            'clearCurrentTask'\n        ]),\n        insertTask() {\n            // debugger;\n\n            this.getTask.company_id = this.currentCompany.id;\n\n\n            this.getTask.upsert().then(task => {\n                console.info(\"save task successfully\");\n                this.modalFlag = false;\n\n                this.clearCurrentTask()\n            });\n\n        }\n    }\n}\n",{"version":3,"sources":["CreateTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"CreateTask.vue","sourceRoot":"src/components/tasks","sourcesContent":["<template>\n\n    <b-modal v-model=\"modalFlag\">\n        <div slot=\"modal-header\">\n            <h4 class=\"modal-title\">Tạo công việc <br>\n                <small class=\"text-secondary\" style=\"font-size: 13px\">Tạo và đăng công việc cho tôi\n                    hoặc các thành viên\n                </small>\n            </h4>\n        </div>\n        <div slot=\"modal-footer\">\n            <!--            <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Đóng</button>-->\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"insertTask()\">Tạo</button>\n        </div>\n\n\n        <!-- Modal body -->\n\n        <!-- Task name -->\n        <div class=\"container my-3\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"Tên công việc\" v-model=\"getTask.title\"\n                   style=\"border-width: 2px\">\n        </div>\n        <!-- Task description -->\n        <div class=\"container\">\n            <div class=\"form-group\">\n                        <textarea class=\"form-control\" placeholder=\"Mô tả\" rows=\"3\" v-model=\"getTask.description\"\n                                  style=\"resize:none; border-width: 2px\"></textarea>\n            </div>\n        </div>\n        <!-- Attach file -->\n<!--        <div class=\"container my-3\">-->\n<!--            <button class=\"btn btn-primary py-1 mr-2\"-->\n<!--                    style=\"border: none; position: relative; overflow: hidden;\">-->\n<!--                Đính kèm -->\n<!--                <input id=\"tagFileEmail\" type=\"file\">-->\n<!--            </button>-->\n<!--        </div>-->\n        <!-- Time picker -->\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-sm-6\">\n                    <div class=\"form-group\">\n                        <datetime v-model=\"getTask.deadline\" type=\"datetime\" input-style=\"String\"></datetime>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <!-- People who take the task -->\n        <div class=\"container px-0\">\n            <div class=\"container dropdown\">\n                <!--                <button class=\"btn btn-white dropdown-toggle\" type=\"button\"-->\n                <!--                        id=\"dropdownMenuButton\"-->\n                <!--                        data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"-->\n                <!--                        style=\"width:400px;  text-align: left\">-->\n                <!--                    Người nhận công việc-->\n                <!--                </button>-->\n                <!--                hiện tại mỗi task giao cho 1 người thôi-->\n                Giao cho\n                <b-form-select v-model=\"getTask.assignee_id\">\n                    <option v-for=\"user in companyUsers\" :value=\"user.id\">{{user.name}}</option>\n\n\n                </b-form-select>\n\n            </div>\n        </div>\n        <div class=\"container\" id=\"assignedPeople\"></div>\n\n\n    </b-modal>\n\n\n</template>\n\n<script>\n    import {mapGetters, mapMutations} from \"vuex\";\n    import {Datetime} from 'vue-datetime';\n    import User from \"../../models/User\";\n\n    export default {\n        name: \"createTask\",\n        components: {\n            datetime: Datetime\n        },\n        data() {\n            return {\n                assignee: this.currentUser,\n            }\n        },\n        mounted() {\n            // debugger;\n\n        },\n        watch: {\n            currentUser(val, oldVal) {\n                // debugger;\n                if (this.assignee == null) {\n                    this.assignee = val;\n                }\n            }\n        },\n        computed: {\n\n            // mix the getters into computed with object spread operator\n            ...mapGetters([\n                'currentUser',\n                'currentCompany',\n                'getTask',\n                'modals/addTask',\n                'companyUsers'\n\n                // ...\n            ]),\n            modalFlag: {\n                get() {\n                    return this['modals/addTask']\n                },\n                set(val) {\n                    this['modals/showAddTask'](val);\n                }\n            }\n        },\n        methods: {\n            ...mapMutations([\n                'modals/showAddTask',\n                'clearCurrentTask'\n            ]),\n            insertTask() {\n                // debugger;\n\n                this.getTask.company_id = this.currentCompany.id;\n\n\n                this.getTask.upsert().then(task => {\n                    console.info(\"save task successfully\");\n                    this.modalFlag = false;\n\n                    this.clearCurrentTask()\n                });\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .form-control::placeholder {\n        color: white;\n    }\n</style>\n"]}]}