{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/settings/UserSignature.vue?vue&type=style&index=0&id=103a39b1&lang=css&scoped=true&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/settings/UserSignature.vue","mtime":1557830879582},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/css-loader/index.js","mtime":1557114467524},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1557114467992},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/postcss-loader/src/index.js","mtime":1557114467782},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"~vue-wysiwyg/dist/vueWysiwyg.css\";\n\n.btn-success {\n    background-color: #76d691 !important;\n    border-color: #76d691 !important;\n    color: #fff !important;\n}\n.btn-secondary:focus , .btn-success:focus{\n    -webkit-box-shadow:none;\n     box-shadow:none;\n}\n.btn {\n    box-shadow: none;\n}\n.btn:hover {\n    background-color: inherit;\n}\n",{"version":3,"sources":["UserSignature.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserSignature.vue","sourceRoot":"src/components/settings","sourcesContent":["<template>\n    <div class=\"p-3 user_sign\" style=\"background: white;\">\n        <h1>{{messages.SR_001_SIGNATURE}}</h1>\n        <p>{{messages.SR_001_SIGNATURE_DESCR}}</p>\n        <wysiwyg v-model=\"signatureHtml\"></wysiwyg>\n        <b-button-group class=\"my-2\">\n            <b-button @click=\"EnableSignature\" class=\"btn-xs\" :class=\"[signatureFlag ? 'btn-success': 'btn-default']\">{{messages.COMMON_ENABLE}}</b-button>\n            <b-button @click=\"DisableSignature\" class=\"btn-xs \" :class=\"[signatureFlag ? 'btn-default' : 'btn-success']\">{{messages.COMMON_DISABLE}}</b-button>\n        </b-button-group>\n        <div class=\"my-2 clearfix\">\n            <div class=\"float-right\">\n                <button class=\"my-3 btn btn-blue default\" @click=\"SaveUserSignature\">\n                    <i class=\"default fa fa-save\" v-if=\"!saveflag\">&nbsp;&nbsp;</i>\n                    <span class=\"default\" v-if=\"!saveflag\">{{messages.COMMON_SAVE}}</span>\n                    <i class=\"success fa fa-check\" v-if=\"saveflag\">&nbsp;&nbsp;</i>\n                    <span class=\"success\" v-if=\"saveflag\">{{messages.COMMON_SAVED}}</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style lang=\"css\" scoped>\n    @import \"~vue-wysiwyg/dist/vueWysiwyg.css\";\n\n    .btn-success {\n        background-color: #76d691 !important;\n        border-color: #76d691 !important;\n        color: #fff !important;\n    }\n    .btn-secondary:focus , .btn-success:focus{\n        -webkit-box-shadow:none;\n         box-shadow:none;\n    }\n    .btn {\n        box-shadow: none;\n    }\n    .btn:hover {\n        background-color: inherit;\n    }\n</style>\n\n<script lang=\"ts\">\n    import Vue from 'vue';\n    import wysiwyg from \"vue-wysiwyg\";\n    import User from \"@/models/User\";\n    //import {fauth} from '@/firebase';\n    import {mapGetters} from 'vuex';\n\n\n    Vue.use(wysiwyg, {\n        hideModules: { \"image\": true },\n    });\n\n    export default Vue.extend({\n        name: \"UserSignature\",\n        data() {\n            return {\n                signatureHtml: '',\n                saveflag: false,\n                signatureFlag: true,\n                \n            }\n        },\n        computed: {\n            // mix the getters into computed with object spread operator\n            ...mapGetters([\n                'currentUser',\n                'currentCompany',\n                // ...\n            ]),\n        },\n        watch: {\n            currentUser: function (user) {\n                const self = this;\n\n                if (!user.currentUser.signatureFlag) {\n                    self.signatureFlag = false;\n                }\n\n                if (user.currentUser.signatureHtml)\n                    self.signatureHtml = user.currentUser.signatureHtml;\n            }\n        },\n        mounted: function () {\n\n            const self = this;\n\n\n            if (self.currentUser) {\n\n                if (!self.currentUser.signatureFlag) {\n                    self.signatureFlag = false;\n                }\n\n                if (self.currentUser.signatureHtml)\n                    self.signatureHtml = self.currentUser.signatureHtml;\n\n\n            }\n        },\n            methods: {\n                EnableSignature: function () {\n                    const self = this;\n                    self.signatureFlag = true;\n\n                },\n                DisableSignature: function () {\n                    const self = this;\n                    self.signatureFlag = false;\n                },\n                SaveUserSignature: function () {\n                    const self = this;\n                    if (self.currentUser) {\n                        self.currentUser.signatureFlag = self.signatureFlag;\n                        self.currentUser.signatureHtml = self.signatureHtml;\n                        self.currentUser.update();\n                        self.saveflag = true;\n                        setTimeout(function () {\n                            self.saveflag = false;\n                        }, 2000);\n                    }\n                }\n            }\n        })\n</script>\n"]}]}