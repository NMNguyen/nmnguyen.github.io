{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/components/portal/Layout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/components/portal/Layout.vue","mtime":1557830879577},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/thread-loader/dist/cjs.js","mtime":1557114467785},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport {fauth, fstorage} from '@/firebase';\n//import {storage} from 'firebase.storage'\nimport {mapGetters} from 'vuex';\n// https://github.com/xiaokaike/vue-color\nimport {Swatches} from 'vue-color';\nimport * as firebase from \"firebase\";\n\n\nvar colors = {\n    hex: '#194d33',\n    // hsl: {h: 150, s: 0.5, l: 0.2, a: 1},\n    // hsv: {h: 150, s: 0.66, v: 0.30, a: 1},\n    // rgba: {r: 25, g: 77, b: 51, a: 1},\n    // a: 1\n}\n\nexport default Vue.extend({\n    props: {},\n    computed: {\n        // mix the getters into computed with object spread operator\n        ...mapGetters([\n            'currentUser',\n            'currentCompany',\n            // ...\n        ]),\n\n    },\n    components: {\n        'swatches-picker': Swatches\n    },\n    data() {\n        return {\n\n            progressUpload: 0,\n            file: File,\n            uploadTask: {} as firebase.storage.UploadTask,\n            whichFile: '',\n            newTestimonial: {\n                name: '',\n                photo: '',\n                position: '',\n                testimonial: ''\n            }\n        }\n    },\n    methods: {\n        updateCompany: function () {\n            this.currentCompany.update();\n            this.$toasted.show('Saved!')\n        },\n        detectFiles(fileList, whichFile) {\n            this.whichFile = whichFile;\n            console.log(fileList);\n            Array.from(Array(fileList.length).keys()).map(x => {\n                this.upload(fileList[x])\n            })\n        },\n        upload(file) {\n            this.uploadTask = fstorage.ref('image/' + file.name).put(file);\n        },\n        switch_mode(section) {\n            this.currentCompany.layout[section] = !this.currentCompany.layout[section];\n            this.updateCompany();\n        }\n    },\n    watch: {\n        uploadTask: function () {\n            this.$toasted.show('Uploading ...');\n            this.uploadTask.on('state_changed', sp => {\n                    if (sp.bytesTransferred == sp.totalBytes) {\n                        this.$toasted.show('Uploaded !')\n                    }\n                },\n                null,\n                () => {\n                    this.uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n                        this.currentCompany.photos.push({url: downloadURL});\n                        this.updateCompany();\n                    })\n                })\n        }\n    }\n\n});\n",null]}