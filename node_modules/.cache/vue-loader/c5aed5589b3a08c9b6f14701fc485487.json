{"remainingRequest":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Data/app.cloudjet.work/src/views/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Volumes/Data/app.cloudjet.work/src/views/Login.vue","mtime":1557114387696},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/babel-loader/lib/index.js","mtime":1557114461372},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/ts-loader/index.js","mtime":1557114465832},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/cache-loader/dist/cjs.js","mtime":1557114467143},{"path":"/Volumes/Data/app.cloudjet.work/node_modules/vue-loader/lib/index.js","mtime":1557114467992}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    import Vue from \"vue\";\n    import {fauth} from '@/firebase';\n    import {FirebaseError} from 'firebase';\nimport User from '../models/User';\n\n    export default Vue.extend({\n        name: \"LoginPage\",\n        data() {\n            return {\n                email: \"\",\n                password: \"\",\n                loading: false,\n                error: {\n                    email: false,\n                    password: false,\n                    message: '',\n                }\n            }\n        },\n\n        methods: {\n            async login(ev: Event): Promise<any>\n            {\n                ev.preventDefault();\n                this.loading = true;\n                this.error = {\n                    email: false,\n                    password: false,\n                    message: '',\n                };\n\n                try {\n                    const credential = await fauth.signInWithEmailAndPassword(\n                        this.email,\n                        this.password\n                    );\n                    const uid = credential.user ? credential.user.uid : '';\n                    const user = await (new User).getById(uid);\n\n                    this.$router.replace('/');\n                } catch (e) {\n                    const error = e as FirebaseError;\n                    this.error = {\n                        email: error.code == 'auth/user-not-found',\n                        password: error.code == 'auth/wrong-password',\n                        message: error.message,\n                    };\n\n                    // @ts-ignore\n                    this.$log.error(error);\n                    this.$toasted.error(error.message, {\n                        position: 'top-center',\n                    });\n                }\n\n                this.loading = false;\n            }\n        },\n\n        mounted() {\n            fauth.onAuthStateChanged(user=>{\n                if (user) {\n                    this.$router.replace('/');\n                }\n            })\n        },\n\n    });\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"fullbody\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-sm-9 col-md-7 col-lg-5 mx-auto\">\n                <div class=\"card card-signin my-5\">\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title text-center\">Đăng nhập</h5>\n                        <form class=\"form-signin\" @submit=\"login\">\n                            <div class=\"form-label-group\">\n                                <input type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\"  v-model=\"email\" required autofocus>\n                                <label for=\"inputEmail\">Email address</label>\n                            </div>\n                            <b-alert variant=\"danger\" :show=\"error.email\">{{error.message}}</b-alert>\n\n                            <div class=\"form-label-group\">\n                                <input type=\"password\"  v-model=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\n                                <label for=\"inputPassword\">Password</label>\n                            </div>\n                            <b-alert variant=\"danger\" :show=\"error.password\">{{error.message}}</b-alert>\n\n                            <div class=\"custom-control custom-checkbox mb-3\">\n                                <input type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck1\">\n                                <label class=\"custom-control-label\" for=\"customCheck1\">Ghi nhớ mật khẩu</label>\n                            </div>\n                            <button class=\"btn btn-lg btn-primary btn-block text-uppercase\"                                     :disabled=\"loading\"\n                                    type=\"submit\">Sign in</button>\n                            <hr class=\"my-4\">\n<!--                            <button class=\"btn btn-lg btn-google btn-block text-uppercase\" type=\"submit\"><i class=\"fab fa-google mr-2\"></i> Sign in with Google</button>-->\n<!--                            <button class=\"btn btn-lg btn-facebook btn-block text-uppercase\" type=\"submit\"><i class=\"fab fa-facebook-f mr-2\"></i> Sign in with Facebook</button>-->\n                            <a href=\"../\">Quên Mật Khẩu!</a> &nbsp;·&nbsp;\n                            <a href=\"https://cjs.zendesk.com/hc/vi/requests/new\">Cần giúp đỡ?</a>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n</template>\n<style >\n    :root {\n        --input-padding-x: 1.5rem;\n        --input-padding-y: .75rem;\n    }\n\n    #fullbody {\n        background: #007bff;\n        background: linear-gradient(to right, #2077a0, #42cadd);\n        height: 100%;\n    }\n\n    .card-signin {\n        border: 0;\n        border-radius: 1rem;\n        box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);\n    }\n\n    .card-signin .card-title {\n        margin-bottom: 2rem;\n        font-weight: 300;\n        font-size: 1.5rem;\n    }\n\n    .card-signin .card-body {\n        padding: 2rem;\n    }\n\n    .form-signin {\n        width: 100%;\n    }\n\n    .form-signin .btn {\n        font-size: 80%;\n        border-radius: 5rem;\n        letter-spacing: .1rem;\n        font-weight: bold;\n        padding: 1rem;\n        transition: all 0.2s;\n    }\n\n    .form-label-group {\n        position: relative;\n        margin-bottom: 1rem;\n    }\n\n    .form-label-group input {\n        height: auto;\n        border-radius: 2rem;\n    }\n\n    .form-label-group>input,\n    .form-label-group>label {\n        padding: var(--input-padding-y) var(--input-padding-x);\n    }\n\n    .form-label-group>label {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        width: 100%;\n        margin-bottom: 0;\n        /* Override default `<label>` margin */\n        line-height: 1.5;\n        color: #495057;\n        border: 1px solid transparent;\n        border-radius: .25rem;\n        transition: all .1s ease-in-out;\n    }\n\n    .form-label-group input::-webkit-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input:-ms-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::-ms-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::-moz-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input:not(:placeholder-shown) {\n        padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));\n        padding-bottom: calc(var(--input-padding-y) / 3);\n    }\n\n    .form-label-group input:not(:placeholder-shown)~label {\n        padding-top: calc(var(--input-padding-y) / 3);\n        padding-bottom: calc(var(--input-padding-y) / 3);\n        font-size: 12px;\n        color: #777;\n    }\n\n    .btn-google {\n        color: white;\n        background-color: #ea4335;\n    }\n\n    .btn-facebook {\n        color: white;\n        background-color: #3b5998;\n    }\n</style>\n\n<script lang=\"ts\">\n    import Vue from \"vue\";\n    import {fauth} from '@/firebase';\n    import {FirebaseError} from 'firebase';\nimport User from '../models/User';\n\n    export default Vue.extend({\n        name: \"LoginPage\",\n        data() {\n            return {\n                email: \"\",\n                password: \"\",\n                loading: false,\n                error: {\n                    email: false,\n                    password: false,\n                    message: '',\n                }\n            }\n        },\n\n        methods: {\n            async login(ev: Event): Promise<any>\n            {\n                ev.preventDefault();\n                this.loading = true;\n                this.error = {\n                    email: false,\n                    password: false,\n                    message: '',\n                };\n\n                try {\n                    const credential = await fauth.signInWithEmailAndPassword(\n                        this.email,\n                        this.password\n                    );\n                    const uid = credential.user ? credential.user.uid : '';\n                    const user = await (new User).getById(uid);\n\n                    this.$router.replace('/');\n                } catch (e) {\n                    const error = e as FirebaseError;\n                    this.error = {\n                        email: error.code == 'auth/user-not-found',\n                        password: error.code == 'auth/wrong-password',\n                        message: error.message,\n                    };\n\n                    // @ts-ignore\n                    this.$log.error(error);\n                    this.$toasted.error(error.message, {\n                        position: 'top-center',\n                    });\n                }\n\n                this.loading = false;\n            }\n        },\n\n        mounted() {\n            fauth.onAuthStateChanged(user=>{\n                if (user) {\n                    this.$router.replace('/');\n                }\n            })\n        },\n\n    });\n</script>\n"]}]}